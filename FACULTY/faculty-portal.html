<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Faculty Portal - Document Request Tracker</title>
    <link rel="stylesheet" href="../styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        /* Match student portal white card look for consistent layout */
        .portal-container {
            background: rgba(255,255,255,0.96);
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.06);
            padding: 30px;
            max-width: 1100px;
            margin: 120px auto 40px; /* keep below fixed navbar */
        }
        .portal-header { margin-bottom: 1.25rem; }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-file-alt"></i>
                <span>DocTracker</span>
            </div>
            <div class="nav-menu">
                <a href="../index.html" class="nav-link">Home</a>
                <a href="../auth.html" class="nav-link">Portal</a>
                <div class="nav-buttons">
                    <span class="nav-link">Welcome, Dr. Faculty</span>
                    <button class="btn btn-outline" onclick="logout()">Logout</button>
                </div>
            </div>
        </div>
    </nav>

    <main class="portal-container">
        <div class="portal-header">
            <div class="portal-icon"><i class="fas fa-user-check"></i></div>
            <div>
                <h1>Faculty Portal</h1>
                <p>Approve academic clearance requests</p>
            </div>
        </div>

        <div class="portal-grid">
            <div>
                <!-- Dashboard Stats -->
                <div class="dashboard-grid">
            <div class="stat-card">
                <h3 id="pendingClearances">0</h3>
                <p>Pending Clearances</p>
            </div>
            <div class="stat-card">
                <h3 id="approvedToday">0</h3>
                <p>Approved Today</p>
            </div>
            <div class="stat-card">
                <h3 id="rejectedToday">0</h3>
                <p>Rejected Today</p>
            </div>
            <div class="stat-card">
                <h3 id="totalProcessed">0</h3>
                <p>Total Processed</p>
            </div>
            <aside>
                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-chalkboard-teacher"></i> Faculty Menu</h3>
                    </div>
                    <div class="card-body">
                        <div class="d-flex flex-column">
                            <a href="faculty-portal.html" class="btn btn-outline" style="margin-bottom:8px; text-align:left;">Clearances</a>
                            <a href="../auth.html" class="btn btn-outline" style="margin-bottom:8px; text-align:left;">Portal</a>
                            <button class="btn btn-outline" style="text-align:left;" onclick="logout()">Logout</button>
                        </div>
                    </div>
                </div>
            </aside>
        </div>

        <!-- Quick Actions -->
        <div class="card">
            <div class="card-header">
                <h3><i class="fas fa-bolt"></i> Quick Actions</h3>
            </div>
            <div class="card-body">
                <div class="d-flex gap-2">
                    <button class="btn btn-primary" onclick="showPendingClearances()">
                        <i class="fas fa-clock"></i> Pending Clearances
                    </button>
                    <button class="btn btn-secondary" onclick="refreshData()">
                        <i class="fas fa-sync"></i> Refresh
                    </button>
                </div>
            </div>
        </div>

        <!-- Filters -->
        <div class="card">
            <div class="card-header">
                <h3><i class="fas fa-filter"></i> Filter Clearances</h3>
            </div>
            <div class="card-body">
                <div class="d-flex gap-2 mb-2">
                    <select id="statusFilter" class="form-control">
                        <option value="">All Status</option>
                        <option value="Pending">Pending</option>
                        <option value="Approved">Approved</option>
                        <option value="Rejected">Rejected</option>
                        <option value="Action Required">Action Required</option>
                    </select>
                    <select id="departmentFilter" class="form-control">
                        <option value="">All Departments</option>
                        <option value="Computer Science">Computer Science</option>
                        <option value="Engineering">Engineering</option>
                        <option value="Business">Business</option>
                        <option value="Education">Education</option>
                    </select>
                    <input type="text" id="searchFilter" class="form-control" placeholder="Search by student name or ID...">
                </div>
                <button class="btn btn-primary" onclick="applyFilters()">
                    <i class="fas fa-search"></i> Apply Filters
                </button>
            </div>
        </div>

        <!-- Clearances Table -->
        <div class="card">
            <div class="card-header">
                <h3><i class="fas fa-table"></i> Academic Clearance Requests</h3>
            </div>
            <div class="card-body">
                <div id="clearancesTable">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Request ID</th>
                                <th>Student</th>
                                <th>Department</th>
                                <th>Document Type</th>
                                <th>Status</th>
                                <th>Date Submitted</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="clearancesTableBody">
                            <!-- Clearances will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Notifications -->
        <div class="card">
            <div class="card-header">
                <h3><i class="fas fa-bell"></i> Recent Notifications</h3>
            </div>
            <div class="card-body">
                <div id="notificationsList">
                    <!-- Notifications will be loaded here -->
                </div>
            </div>
        </div>
    </main>

    <!-- Clearance Review Modal -->
    <div id="clearanceModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Review Academic Clearance</h3>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <div id="clearanceDetails">
                <!-- Clearance details will be loaded here -->
            </div>
        </div>
    </div>

    <script src="../utils.js"></script>
    <script src="../ui.js"></script>
    <script src="../auth-script.js"></script>
    <script src="faculty-script.js"></script>
</body>
</html>
